# ๐ Backend - ูุธุงู ุฅุฏุงุฑุฉ ุนุฑุจูุงุช ุชุญููู ุงูุจูุฌุฑ

## ๐ ุงููุตู
ุงูุจุงู ุฅูุฏ ููุธุงู ุฅุฏุงุฑุฉ ุนุฑุจูุงุช ุชุญููู ุงูุจูุฌุฑ ูุจูู ุจุงุณุชุฎุฏุงู Node.js ู Express.js ูุน ูุงุนุฏุฉ ุจูุงูุงุช MongoDB.

## ๐ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
- **Node.js** - ุจูุฆุฉ ุงูุชุดุบูู
- **Express.js** - ุฅุทุงุฑ ุงูุนูู
- **MongoDB** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Mongoose** - ODM ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **JWT** - ูููุตุงุฏูุฉ
- **bcryptjs** - ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- **express-validator** - ููุชุญูู ูู ุงูุจูุงูุงุช
- **helmet** - ููุฃูุงู
- **cors** - ููุณูุงุญ ุจุงูุทูุจุงุช ูู ุงููุฑููุช ุฅูุฏ

## ๐ ูููู ุงููุดุฑูุน
```
server/
โโโ config.js              # ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
โโโ index.js               # ุงูููู ุงูุฑุฆูุณู
โโโ models/                # ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ User.js           # ูููุฐุฌ ุงููุณุชุฎุฏู
โ   โโโ Contractor.js     # ูููุฐุฌ ุงูููุงูู
โ   โโโ Factory.js        # ูููุฐุฌ ุงููุตูุน
โ   โโโ Truck.js          # ูููุฐุฌ ุงูุนุฑุจุฉ
โโโ middleware/            # Middleware
โ   โโโ auth.js           # middleware ูููุตุงุฏูุฉ
โโโ routes/               # Routes
    โโโ auth.js           # routes ูููุตุงุฏูุฉ
    โโโ trucks.js         # routes ููุนุฑุจูุงุช
    โโโ contractors.js    # routes ููููุงูููู
    โโโ factories.js      # routes ูููุตุงูุน
    โโโ users.js          # routes ูููุณุชุฎุฏููู
    โโโ stats.js          # routes ููุฅุญุตุงุฆูุงุช
```

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js (v14 ุฃู ุฃุญุฏุซ)
- MongoDB

### ุงูุชุซุจูุช
```bash
npm install
```

### ุชุดุบูู ุงูุชุทุจูู
```bash
# ููุชุทููุฑ
npm run dev

# ููุฅูุชุงุฌ
npm start
```

## ๐ API Endpoints

### ุงููุตุงุฏูุฉ
- `POST /api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู
- `GET /api/auth/me` - ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู

### ุงูุนุฑุจูุงุช
- `POST /api/trucks/register` - ุชุณุฌูู ุนุฑุจูุฉ (ููููุธู)
- `POST /api/trucks/register-military` - ุชุณุฌูู ุนุฑุจูุฉ (ููุนุณูุฑู)
- `GET /api/trucks` - ุฌููุน ุงูุนุฑุจูุงุช (ููุฃุฏูู)
- `GET /api/trucks/my-trucks` - ุนุฑุจูุงุช ุงูุนุณูุฑู
- `PUT /api/trucks/:id` - ุชุญุฏูุซ ุนุฑุจูุฉ
- `GET /api/trucks/my-stats` - ุฅุญุตุงุฆูุงุช ุงูุนุณูุฑู

### ุงูููุงูููู
- `GET /api/contractors` - ุฌููุน ุงูููุงูููู
- `POST /api/contractors` - ุฅุถุงูุฉ ููุงูู (ููุฃุฏูู)
- `PUT /api/contractors/:id` - ุชุญุฏูุซ ููุงูู
- `DELETE /api/contractors/:id` - ุญุฐู ููุงูู
- `GET /api/contractors/:id/stats` - ุฅุญุตุงุฆูุงุช ููุงูู

### ุงููุตุงูุน
- `GET /api/factories` - ุฌููุน ุงููุตุงูุน
- `POST /api/factories` - ุฅุถุงูุฉ ูุตูุน (ููุฃุฏูู)
- `PUT /api/factories/:id` - ุชุญุฏูุซ ูุตูุน
- `DELETE /api/factories/:id` - ุญุฐู ูุตูุน
- `GET /api/factories/:id/stats` - ุฅุญุตุงุฆูุงุช ูุตูุน

### ุงููุณุชุฎุฏููู
- `GET /api/users` - ุฌููุน ุงููุณุชุฎุฏููู (ููุฃุฏูู)
- `POST /api/users` - ุฅุถุงูุฉ ูุณุชุฎุฏู (ููุฃุฏูู)
- `PUT /api/users/:id` - ุชุญุฏูุซ ูุณุชุฎุฏู
- `PUT /api/users/:id/password` - ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
- `DELETE /api/users/:id` - ุญุฐู ูุณุชุฎุฏู
- `GET /api/users/:id/stats` - ุฅุญุตุงุฆูุงุช ูุณุชุฎุฏู

### ุงูุฅุญุตุงุฆูุงุช
- `GET /api/stats/dashboard` - ููุญุฉ ุงูุชุญูู (ููุฃุฏูู)
- `GET /api/stats/contractor/:id` - ุฅุญุตุงุฆูุงุช ููุงูู
- `GET /api/stats/factory/:id` - ุฅุญุตุงุฆูุงุช ูุตูุน
- `GET /api/stats/gate/:gateId` - ุฅุญุตุงุฆูุงุช ุจูุงุจุฉ

## ๐ ุงูุฃูุงู
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcryptjs
- JWT ูููุตุงุฏูุฉ
- Rate limiting ูููุน ุงููุฌูุงุช
- Helmet ููุฃูุงู
- CORS ููุณูุงุญ ุจุงูุทูุจุงุช ูู ุงููุฑููุช ุฅูุฏ

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช
### ุงูููุงุฐุฌ

#### User (ุงููุณุชุฎุฏู)
- `email` - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `password` - ูููุฉ ุงููุฑูุฑ (ูุดูุฑุฉ)
- `name` - ุงูุงุณู
- `role` - ุงูุฏูุฑ (admin/military)
- `isActive` - ุญุงูุฉ ุงูุญุณุงุจ
- `gateId` - ุฑูู ุงูุจูุงุจุฉ (ููุนุณูุฑู)

#### Contractor (ุงูููุงูู)
- `name` - ุงุณู ุงูููุงูู
- `phone` - ุฑูู ุงููุงุชู
- `address` - ุงูุนููุงู
- `isActive` - ุญุงูุฉ ุงูููุงูู
- `totalTrucks` - ุฅุฌูุงูู ุงูุนุฑุจูุงุช

#### Factory (ุงููุตูุน)
- `name` - ุงุณู ุงููุตูุน
- `location` - ุงููููุน
- `isActive` - ุญุงูุฉ ุงููุตูุน
- `totalTrucks` - ุฅุฌูุงูู ุงูุนุฑุจูุงุช

#### Truck (ุงูุนุฑุจูุฉ)
- `plateNumber` - ุฑูู ุงูููุญุฉ
- `contractor` - ุงูููุงูู
- `factory` - ุงููุตูุน
- `factoryCardNumber` - ุฑูู ูุงุฑุชุฉ ุงููุตูุน
- `deviceCardNumber` - ุฑูู ูุงุฑุชุฉ ุงูุฌูุงุฒ
- `gateId` - ุฑูู ุงูุจูุงุจุฉ
- `registeredBy` - ูุณุฌู ุจูุงุณุทุฉ
- `registrationType` - ููุน ุงูุชุณุฌูู
- `status` - ุงูุญุงูุฉ
- `canEdit` - ุฅููุงููุฉ ุงูุชุนุฏูู
- `editDeadline` - ููุนุฏ ุงูุชูุงุก ุงูุชุนุฏูู

## ๐ง ุงูุฅุนุฏุงุฏุงุช
ูููู ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช ูู ููู `config.js`:
- `PORT` - ูููุฐ ุงูุฎุงุฏู
- `MONGODB_URI` - ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `JWT_SECRET` - ููุชุงุญ JWT
- `NODE_ENV` - ุจูุฆุฉ ุงูุชุดุบูู

## ๐ ููุงุญุธุงุช
- ูููู ุงูุชุนุฏูู ุนูู ุงูุนุฑุจูุงุช ุฎูุงู 24 ุณุงุนุฉ ููุท
- ุงูุนุณูุฑู ููููู ุชุนุฏูู ุนุฑุจูุงุชู ููุท
- ุงูุฃุฏูู ูู ุตูุงุญูุงุช ูุงููุฉ
- ููุธู ุงูุจูุงุจุฉ ูุง ูุญุชุงุฌ ุชุณุฌูู ุฏุฎูู 